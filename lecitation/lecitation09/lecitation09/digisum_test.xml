<?xml version="1.0"?>
<test-suite>
        <test-case>
        <name>digisum(5) == 5</name>
        <has-max-executions>1</has-max-executions>
        <max-executions>1000000</max-executions>
        <randomize>1</randomize>
        <input>
            <test-subr>
                <name>DIGISUM</name>
                <stack>xF000</stack>
                <r7>x5000</r7>
                <r5>xCAFE</r5>
                <params>5</params>
            </test-subr>
        </input>
        <output>
            <test-subr>
                <answer>5</answer>
                <calls>
                    <call><name>DIGISUM</name><params>0</params></call>
                </calls>
                <locals>0,5</locals>
                <points>
                    <answer>1</answer>
                    <params>1</params>
                    <r7>1</r7>
                    <r6>1</r6>
                    <r5>1</r5>
                    <locals>1</locals>
                </points>
                <deductions-per-mistake>1</deductions-per-mistake>
            </test-subr>
        </output>
    </test-case>

    <test-case>
        <name>digisum(26) == 8</name>
        <has-max-executions>1</has-max-executions>
        <max-executions>1000000</max-executions>
        <randomize>1</randomize>
        <input>
            <test-subr>
                <name>DIGISUM</name>
                <stack>xF000</stack>
                <r7>x5000</r7>
                <r5>xCAFE</r5>
                <params>26</params>
            </test-subr>
        </input>
        <output>
            <test-subr>
                <answer>8</answer>
                <calls>
                    <call><name>DIGISUM</name><params>2</params></call>
                </calls>
                <locals>2,6</locals>
                <points>
                    <answer>1</answer>
                    <params>1</params>
                    <r7>1</r7>
                    <r6>1</r6>
                    <r5>1</r5>
                    <locals>1</locals>
                    <calls>1</calls>
                    <read-answer>1</read-answer>
                </points>
                <deductions-per-mistake>1</deductions-per-mistake>
            </test-subr>
        </output>
    </test-case>

    <test-case>
        <name>digisum(4591) == 19</name>
        <has-max-executions>1</has-max-executions>
        <max-executions>1000000</max-executions>
        <randomize>1</randomize>
        <input>
            <test-subr>
                <name>DIGISUM</name>
                <stack>xF000</stack>
                <r7>x5000</r7>
                <r5>xCAFE</r5>
                <params>4591</params>
            </test-subr>
        </input>
        <output>
            <test-subr>
                <answer>19</answer>
                <calls>
                    <call><name>DIGISUM</name><params>459</params></call>
                </calls>
                <locals>459,1</locals>
                <points>
                    <answer>1</answer>
                    <params>1</params>
                    <r7>1</r7>
                    <r6>1</r6>
                    <r5>1</r5>
                    <locals>1</locals>
                    <calls>1</calls>
                    <read-answer>1</read-answer>
                </points>
                <deductions-per-mistake>1</deductions-per-mistake>
            </test-subr>
        </output>
    </test-case>

    <test-case>
        <name>digisum(20000) == 2</name>
        <has-max-executions>1</has-max-executions>
        <max-executions>1000000</max-executions>
        <randomize>1</randomize>
        <input>
            <test-subr>
                <name>DIGISUM</name>
                <stack>xF000</stack>
                <r7>x5000</r7>
                <r5>xCAFE</r5>
                <params>20000</params>
            </test-subr>
        </input>
        <output>
            <test-subr>
                <answer>2</answer>
                <calls>
                    <call><name>DIGISUM</name><params>2000</params></call>
                </calls>
                <locals>2000,0</locals>
                <points>
                    <answer>1</answer>
                    <params>1</params>
                    <r7>1</r7>
                    <r6>1</r6>
                    <r5>1</r5>
                    <locals>1</locals>
                    <calls>1</calls>
                    <read-answer>1</read-answer>
                </points>
                <deductions-per-mistake>1</deductions-per-mistake>
            </test-subr>
        </output>
    </test-case>

    <test-case>
        <name>digisum(20000) == 2 stress test edition</name>
        <has-max-executions>1</has-max-executions>
        <max-executions>1000000</max-executions>
        <randomize>1</randomize>
	<fully-randomize>1</fully-randomize>
        <input>
            <test-subr>
                <name>DIGISUM</name>
                <stack>xF000</stack>
                <r7>x5000</r7>
                <r5>xCAFE</r5>
                <params>20000</params>
            </test-subr>
        </input>
        <output>
            <test-subr>
                <answer>2</answer>
                <calls>
                    <call><name>DIGISUM</name><params>2000</params></call>
                </calls>
                <locals>2000,0</locals>
                <points>
                    <answer>1</answer>
                    <params>1</params>
                    <r7>1</r7>
                    <r6>1</r6>
                    <r5>1</r5>
                    <locals>1</locals>
                    <calls>1</calls>
                    <read-answer>1</read-answer>
                </points>
                <deductions-per-mistake>1</deductions-per-mistake>
            </test-subr>
        </output>
    </test-case>

    <!-- In this test All of memory gets a random value in this test -->
    <test-case>
        <name>digisum(20000) == 2 stress test edition</name>
        <has-max-executions>1</has-max-executions>
        <max-executions>1000000</max-executions>
        <randomize>1</randomize>
	<fully-randomize>1</fully-randomize>
        <input>
            <test-subr>
                <name>DIGISUM</name>
                <stack>xF000</stack>
                <r7>x5000</r7>
                <r5>xCAFE</r5>
                <params>20000</params>
            </test-subr>
        </input>
        <output>
            <test-subr>
                <answer>2</answer>
                <calls>
                    <call><name>DIGISUM</name><params>2000</params></call>
                </calls>
                <locals>2000,0</locals>
                <points>
                    <answer>1</answer>
                    <params>1</params>
                    <r7>1</r7>
                    <r6>1</r6>
                    <r5>1</r5>
                    <locals>1</locals>
                    <calls>1</calls>
                    <read-answer>1</read-answer>
                </points>
                <deductions-per-mistake>1</deductions-per-mistake>
            </test-subr>
        </output>
    </test-case>

     <!-- If any addresses outside the program is executed it will immediately halt -->
    <test-case>
        <name>digisum(20000) == 2 filled edition</name>
        <has-max-executions>1</has-max-executions>
        <max-executions>1000000</max-executions>
        <fill-value>x903E</fill-value>
        <input>
            <test-subr>
                <name>DIGISUM</name>
                <stack>xF000</stack>
                <r7>x5000</r7>
                <r5>xCAFE</r5>
                <params>20000</params>
            </test-subr>
        </input>
        <output>
            <test-subr>
                <answer>2</answer>
                <calls>
                    <call><name>DIGISUM</name><params>2000</params></call>
                </calls>
                <locals>2000,0</locals>
                <points>
                    <answer>1</answer>
                    <params>1</params>
                    <r7>1</r7>
                    <r6>1</r6>
                    <r5>1</r5>
                    <locals>1</locals>
                    <calls>1</calls>
                    <read-answer>1</read-answer>
                </points>
                <deductions-per-mistake>1</deductions-per-mistake>
            </test-subr>
        </output>
    </test-case>

</test-suite>
